<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yixboost Games Repositories</title>
</head>
<body>
    <h1>Repositories of Yixboost Games</h1>
    <ul id="repo-list"></ul>

    <script type="module">
        import { Octokit } from "https://esm.sh/octokit";

        async function fetchRepositories() {
            // Maak een nieuwe Octokit instance aan
            const octokit = new Octokit();

            try {
                // Haal de repositories op voor de 'yixboost-games' organisatie
                const response = await octokit.request('GET /orgs/{org}/repos', {
                    org: 'yixboost-games',
                    type: 'public'
                });

                // Krijg het repo-lijst element
                const repoList = document.getElementById('repo-list');

                // Loop door elke repository en voeg deze toe aan de lijst
                response.data.forEach(repo => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `<a href="${repo.html_url}" target="_blank">${repo.name}</a> - ${repo.description || 'No description'}`;
                    repoList.appendChild(listItem);
                });
            } catch (error) {
                console.error("Error fetching repositories:", error);
            }
        }

        // Roep de functie aan bij het laden van de pagina
        fetchRepositories();
    </script>
</body>
</html>
